<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Groceries</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <link rel="stylesheet" href="style.css">

    <script>

    /*  function addRow(tableID) {
            var table = document.getElementById(tableID);

            var rowCount = table.rows.length;
            var row = table.insertRow(rowCount);
            var colCount = table.rows[0].cells.length;

            if (rowCount <= 8) {
                var cell0 = row.insertCell(0);
                cell0.innerHTML = parseInt(table.rows[1].cells[0].innerHTML)+1;
                cell0.childNodes[1];

                var cell1 = row.insertCell(1);
                cell1.innerHTML = table.rows[1].cells[1].innerHTML;
                cell1.childNodes[1];

                var cell2 = row.insertCell(2);
                cell2.innerHTML = table.rows[1].cells[2].innerHTML;
                cell2.childNodes[1];

                var cell3 = row.insertCell(3);
                cell3.innerHTML = table.rows[1].cells[3].innerHTML;
                cell3.childNodes[1];
                var new_id = "quantity" + rowCount;
                cell3.children[1].setAttribute('id', new_id);
            }
        } */

        function up(max, elementId) {
            document.getElementById(elementId).value = parseInt(document.getElementById(elementId).value) + 1;
            if (document.getElementById(elementId).value >= parseInt(max)) {
                document.getElementById(elementId).value = max;
            }
        }

        function down(min, elementId) {
            document.getElementById(elementId).value = parseInt(document.getElementById(elementId).value) - 1;
            if (document.getElementById(elementId).value <= parseInt(min)) {
                document.getElementById(elementId).value = min;
            }
        }

        function calculate () {
            var egg = document.send.egg_price.value;
            var egg_q = document.send.egg_quantity.value;
            var eggs = parseInt(egg)*parseInt(egg_q);

            var milk = document.send.milk_price.value;
            var milk_q = document.send.milk_quantity.value;
            var milks = parseInt(milk)*parseInt(milk_q);

            var oatmeal = document.send.oatmeal_price.value;
            var oatmeal_q = document.send.oatmeal_quantity.value;
            var oatmeals = parseInt(oatmeal)*parseInt(oatmeal_q);

            var cucumber = document.send.cucumber_price.value;
            var cucumber_q = document.send.cucumber_quantity.value;
            var cucumbers = parseInt(cucumber)*parseInt(cucumber_q);

            var tomato = document.send.tomato_price.value;
            var tomato_q = document.send.tomato_quantity.value;
            var tomatoes = parseInt(tomato)*parseInt(tomato_q);

            var vegoil = document.send.vegoil_price.value;
            var vegoil_q = document.send.vegoil_quantity.value;
            var vegoils = parseInt(vegoil)*parseInt(vegoil_q);

            var honey = document.send.honey_price.value;
            var honey_q = document.send.honey_quantity.value;
            var honeys = parseInt(honey)*parseInt(honey_q);

            var coconut = document.send.coco_price.value;
            var coconut_q = document.send.coco_quantity.value;
            var coconuts = parseInt(coconut)*parseInt(coconut_q);

            var total_temp = eggs + milks + oatmeals + cucumbers + tomatoes + vegoils + honeys + coconuts;
            var total_temp2 = total_temp;
            var total = total_temp;

            var membership = document.send.membership.value;

            if (total_temp >= 100000) {
                total_temp2 = total_temp - (0.1 * total_temp);
                if (membership == "yes") {
                    total = total_temp2 - (0.05 * total_temp2);
                }
                else {
                    total = total_temp2;
                }
            }
            else {
                total_temp2 = total_temp;
                if (membership == "yes") {
                    total = total_temp2 - (0.05 * total_temp2);
                }
                else {
                    total = total_temp2;
                }
            }

            var discount = total_temp - total;

            document.send.total_temp.value = total_temp;
            document.send.discount.value = discount;
            document.send.total.value = total;
        }

        function weekend_discount() {
            var date = new Date(2020, 2, 8);
            var day = date.getDay();

            var egg = 10000;
            var milk = 16000;
            var oatmeal = 35000;
            var cucumber = 6000;
            var tomato = 12000;
            var vegoil = 12000;
            var honey = 16000;
            var coconut = 5000;

            if (day == 0 || day == 6) {
                window.alert("TODAY: " + date + "\n\nSPECIAL OFFER for the Weekend! Discount 2% on all items!");

                var egg_dis = egg - (0.02 * parseInt(egg));
                document.send.egg_price.value = egg_dis;

                var milk_dis = milk - (0.02 * parseInt(milk));
                document.send.milk_price.value = milk_dis;

                var oat_dis = oatmeal - (0.02 * parseInt(oatmeal));
                document.send.oatmeal_price.value = oat_dis;

                var cucumber_dis = cucumber - (0.02 * parseInt(cucumber));
                document.send.cucumber_price.value = cucumber_dis;

                var tomato_dis = tomato - (0.02 * parseInt(tomato));
                document.send.tomato_price.value = tomato_dis;

                var vegoil_dis = vegoil - (0.02 * parseInt(vegoil));
                document.send.vegoil_price.value = vegoil_dis;

                var honey_dis = honey - (0.02 * parseInt(honey));
                document.send.honey_price.value = honey_dis;

                var coconut_dis = coconut - (0.02 * parseInt(coconut));
                document.send.coco_price.value = coconut_dis;
            }

            else {
                window.alert("TODAY: " + date + "\n\nSPECIAL OFFER ONLY ON WEEKEND");
            }
        }

    </script>
</head>

<body onload="weekend_discount()" on>
    
    <div class="div-head">
        <h1 style="font-weight: bold;">BUY YOUR GROCERIES</h1>
    </div>
    <form method="GET" name="send">
        <table id="dataTable" border="black solid">
            <tr>
                <th>No</th>
                <th>Available Items</th>
                <th>Price</th>
                <th>Quantity</th>
            </tr>
            <tr>
                <td id="num">1</td>
                <td>
                    <input type="text" name="egg" value="Egg (10 pcs)" disabled>
                </td>
                <td><input type="text" name="egg_price" value="10000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'eggq')">
                    <input class="quantity" type="number" name="egg_quantity" id="eggq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'eggq')">
                </td>
            </tr>
            <tr>
                <td id="num">2</td>
                <td>
                    <input type="text" name="coco" value="Coconut (1 pcs)" disabled>
                </td>
                <td><input type="text" name="coco_price" value="5000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'cocoq')">
                    <input class="quantity" type="number" name="coco_quantity" id="cocoq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'cocoq')">
                </td>
            </tr>
            <tr>
                <td id="num">3</td>
                <td>
                    <input type="text" name="milk" value="Milk (1 l)" disabled>
                </td>
                <td><input type="text" name="milk_price" value="16000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'milkq')">
                    <input class="quantity" type="number" name="milk_quantity" id="milkq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'milkq')">
                </td>
            </tr>
            <tr>
                <td id="num">4</td>
                <td>
                    <input type="text" name="vegoil" value="Vegetable Oil (1 l)" disabled>
                </td>
                <td><input type="text" name="vegoil_price" value="12000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'vegq')">
                    <input class="quantity" type="number" name="vegoil_quantity" id="vegq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'vegq')">
                </td>
            </tr>
            <tr>
                <td id="num">5</td>
                <td>
                    <input type="text" name="cucumber" value="Cucumbers (1 kg)" disabled>
                </td>
                <td><input type="text" name="cucumber_price" value="6000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'cucumbq')">
                    <input class="quantity" type="number" name="cucumber_quantity" id="cucumbq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'cucumbq')">
                </td>
            </tr>
            <tr>
                <td id="num">6</td>
                <td>
                    <input type="text" name="tomato" value="Tomatoes (1 kg)" disabled>
                </td>
                <td><input type="text" name="tomato_price" value="12000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'tomq')">
                    <input class="quantity" type="number" name="tomato_quantity" id="tomq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'tomq')">
                </td>
            </tr>
            <tr>
                <td id="num">7</td>
                <td>
                    <input type="text" name="honey" value="Honey (315 gr)" disabled>
                </td>
                <td><input type="text" name="honey_price" value="16000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'honq')">
                    <input class="quantity" type="number" name="honey_quantity" id="honq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'honq')">
                </td>
            </tr>
            <tr>
                <td id="num">8</td>
                <td>
                    <input type="text" name="oatmeal" value="Oatmeal (900 gr)" disabled>
                </td>
                <td><input type="text" name="oatmeal_price" value="35000" disabled></td>
                <td>
                    <input type="button" value="-" name="" id="decrement" onclick="down('0', 'oatq')">
                    <input class="quantity" type="number" name="oatmeal_quantity" id="oatq" value="0" disabled>
                    <input type="button" value="+" name="" id="increment" onclick="up('50', 'oatq')">
                </td>
            </tr>
            <tr style="background-color: khaki;">
                <td colspan="3" style="font-weight: bold; text-align: center;">Membership</td>
                <td>
                    <select name="membership" id="member" style="font-weight: bold;">
                        <option value="yes">Member</option>
                        <option value="no">Not a member</option>
                    </select>
                </td>
            </tr>
            <tr style="background-color: khaki;">
                <td colspan="3" style="font-weight: bold; text-align: center;">Total Price</td>
                <td><input type="text" name="total_temp" id="tot" disabled value="0" style="text-align: right;"></td>
            </tr>
            <tr style="background-color: khaki;">
                <td colspan="3" style="font-weight: bold; text-align: center;">Discount</td>
                <td><input type="text" name="discount" id="tot" disabled value="0" style="text-align: right;"></td>
            </tr>
            <tr style="background-color: khaki;">
                <td colspan="3" style="font-weight: bold; text-align: center;">Total Payment</td>
                <td><input type="text" name="total" id="tot" disabled value="0" style="text-align: right;"></td>
            </tr>
        </table>

        <div class="add-div">
            <input class="done-btn" type="button" value="SUBMIT" onclick="calculate()" />
        </div>

    </form>
</body>

</html>